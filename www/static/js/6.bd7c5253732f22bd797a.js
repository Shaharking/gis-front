webpackJsonp([6],{366:function(t,i,o){o(495);var e=o(14)(o(450),o(564),null,null);t.exports=e.exports},450:function(t,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=o(151),s=o.n(e),n=o(50),a=o(498),l=o.n(a);i.default={data:function(){return{zoom:9,minZoom:1,maxZoom:18,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:"brandon.xiang",title:"test-marker",opacity:1,draggable:!1,attributionControl:!1}},computed:s()({},o.i(n.b)(["center","cityName"])),mounted:function(){this.SET_TITLE(this.$t("Map")),this.SET_RIGHT_OPTION({show:!0,name:"城市",link:"cities"}),this.addControl(new l.a)},methods:s()({},o.i(n.c)(["SET_TITLE","SET_RIGHT_OPTION","addControl"]))}},468:function(t,i,o){i=t.exports=o(361)(!0),i.push([t.i,".leaflet-control-locate a{font-size:1.4em;color:#444;cursor:pointer}.leaflet-control-locate.active a{color:#2074b6}.leaflet-control-locate.active.following a{color:#fc8428}","",{version:3,sources:["/Users/xiangweiping103/github/vue-leaflet-mobile/node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css"],names:[],mappings:"AACA,0BACE,gBAAiB,AACjB,WAAY,AACZ,cAAgB,CACjB,AACD,iCACE,aAAe,CAChB,AACD,2CACE,aAAe,CAChB",file:"L.Control.Locate.css",sourcesContent:["/* Compatible with Leaflet 0.7 */\n.leaflet-control-locate a {\n  font-size: 1.4em;\n  color: #444;\n  cursor: pointer;\n}\n.leaflet-control-locate.active a {\n  color: #2074B6;\n}\n.leaflet-control-locate.active.following a {\n  color: #FC8428;\n}\n"],sourceRoot:""}])},480:function(t,i,o){i=t.exports=o(361)(!0),i.push([t.i,"@import url(https://cdn.bootcss.com/leaflet/1.0.3/leaflet.css);",""]),i.i(o(468),""),i.push([t.i,"@import url(//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css);",""]),i.push([t.i,"#map{width:100%}#map,.full-height,body,html{height:100%}body{padding:0;margin:0}","",{version:3,sources:["/Users/xiangweiping103/github/vue-leaflet-mobile/src/views/Map.vue"],names:[],mappings:"AAIA,KACI,UAAY,CAEf,AACD,4BAFI,WAAa,CAMhB,AACD,KACI,UAAW,AACX,QAAU,CACb",file:"Map.vue",sourcesContent:['\n@import "https://cdn.bootcss.com/leaflet/1.0.3/leaflet.css";\n@import "~leaflet.locatecontrol/dist/L.Control.Locate.css";\n@import "//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css";\n#map {\n    width: 100%;\n    height: 100%;\n}\nhtml,\nbody,\n.full-height {\n    height: 100%;\n}\nbody {\n    padding: 0;\n    margin: 0;\n}\n'],sourceRoot:""}])},495:function(t,i,o){var e=o(480);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o(362)("5857b9b2",e,!0)},498:function(t,i,o){var e,s,n;!function(a,l){s=[o(158)],e=a,void 0!==(n="function"==typeof e?e.apply(i,s):e)&&(t.exports=n),void 0!==l&&l.L&&(l.L.Control.Locate=a(L))}(function(t){var i=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:t.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,onLocationError:function(t,i){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(i){for(var o in i)"object"==typeof this.options[o]?t.extend(this.options[o],i[o]):this.options[o]=i[o];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(i){var o=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");return this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(i),this._event=void 0,this._prevBounds=null,this._link=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",o),this._link.title=this.options.strings.title,this._icon=t.DomUtil.create(this.options.iconElementTag,this.options.icon,this._link),t.DomEvent.on(this._link,"click",t.DomEvent.stopPropagation).on(this._link,"click",t.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),o},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){var t=this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView;switch(t){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds){var i=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;i.bind(this._map)(this._prevBounds)}}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel){var t=this.options.flyTo?this._map.flyTo:this._map.panTo;t.bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;t.bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var i=this._event.accuracy,o=this._event.latlng;if(this.options.drawCircle){var e=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(o).setRadius(i).setStyle(e):this._circle=t.circle(o,i,e).addTo(this._layer)}var s,n;if(this.options.metric?(s=i.toFixed(0),n=this.options.strings.metersUnit):(s=(3.2808399*i).toFixed(0),n=this.options.strings.feetUnit),this.options.drawMarker){var a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(o),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(o,a).addTo(this._layer)}var l=this.options.strings.popup;this.options.showPopup&&l&&this._marker&&this._marker.bindPopup(t.Util.template(l,{distance:s,unit:n}))._popup.setLatLng(o)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(i){"requesting"==i?(t.DomUtil.removeClasses(this._container,"active following"),t.DomUtil.addClasses(this._container,"requesting"),t.DomUtil.removeClasses(this._icon,this.options.icon),t.DomUtil.addClasses(this._icon,this.options.iconLoading)):"active"==i?(t.DomUtil.removeClasses(this._container,"requesting following"),t.DomUtil.addClasses(this._container,"active"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)):"following"==i&&(t.DomUtil.removeClasses(this._container,"requesting"),t.DomUtil.addClasses(this._container,"active following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon))},_cleanClasses:function(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return t.control.locate=function(i){return new t.Control.Locate(i)},function(){var i=function(i,o,e){e=e.split(" "),e.forEach(function(e){t.DomUtil[i].call(this,o,e)})};t.DomUtil.addClasses=function(t,o){i("addClass",t,o)},t.DomUtil.removeClasses=function(t,o){i("removeClass",t,o)}}(),i},window)},564:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"full-height"},[o("l-map",{attrs:{zoom:t.zoom,center:t.center,"min-zoom":t.minZoom,"max-zoom":t.maxZoom,attributionControl:t.attributionControl}},[o("l-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),o("l-marker",{attrs:{position:t.center,title:t.$t(t.cityName),opacity:t.opacity,draggable:t.draggable}},[o("l-popup",{attrs:{content:t.$t(t.cityName)}})],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.bd7c5253732f22bd797a.js.map